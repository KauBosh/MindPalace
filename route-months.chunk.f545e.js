webpackJsonp([6],{gczx:function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=n("KM04"),i=(n.n(c),n("8EZx")),a=n("db16"),u=n("sw5u"),s=(n.n(u),n("o6ac")),l=(n.n(s),function(t){function e(){for(var e,n,o,c=arguments.length,a=Array(c),u=0;u<c;u++)a[u]=arguments[u];return e=n=r(this,t.call.apply(t,[this].concat(a))),n.state={months:Object(i.b)()},n.getData=function(t){return new Promise(function(e,r){var o,c,a,u,s,l,b;return o=t.year,c=t.month,c=Number(c)-1,a=new Date(o,c,1),"Invalid Date"===a.toString()?(window.location.href="/"+(new Date).getFullYear(),e()):(u=new Date(o,c+1,0).getDate(),Promise.resolve(n.props.db.keys("entries")).then(function(t){try{return s=t,Promise.resolve(n.props.db.keys("trackingEntries")).then(function(t){try{return l=t,s=[].concat(s,l),b=s.map(function(t){return t.split("_").shift()}).filter(function(t){return 0===t.indexOf(String(o)+Object(i.g)(c+1))}).reduce(function(t,e){return t[Number(e.substring(6,8))]++,t},Object(i.b)(0,u+1)),n.setState({days:b}),e()}catch(t){return r(t)}},r)}catch(t){return r(t)}},r))})},o=e,r(n,o)}return o(e,t),e.prototype.componentDidMount=function(){this.getData(this.props)},e.prototype.componentWillReceiveProps=function(t){this.getData(t)},e.prototype.render=function(t,e){var n=t.year,r=t.month,o=e.days,s=void 0===o?[]:o;r=Number(r-1);var l=new Date(n,r,1);l.setMonth(l.getMonth()-1);var b=new Date(n,r,1);return b.setMonth(b.getMonth()+1),Object(c.h)("div",{class:"wrap lift-children"},Object(c.h)(a.a,{title:Object(c.h)("span",null,i.f[r]," ",Object(c.h)(u.Link,{href:"/"+n},n)),lastLink:"/"+l.getFullYear()+"/"+Object(i.g)(l.getMonth()+1),nextLink:"/"+b.getFullYear()+"/"+Object(i.g)(b.getMonth()+1)}),Object(c.h)("ul",{class:"year-overview"},s.filter(function(t,e){return!!e}).map(function(t,e){var o=new Date(n,r,e+1);return Object(c.h)("li",{key:e},Object(c.h)(u.Link,{href:"/"+n+"/"+Object(i.g)(r+1)+"/"+Object(i.g)(e+1),class:"button button--"+(t?"active":"inactive")},Object(i.j)(o),Object(c.h)("strong",null,Object(c.h)("b",null,t))))})))},e}(c.Component));e.default=Object(s.connect)("db")(l)}});
//# sourceMappingURL=route-months.chunk.f545e.js.map