{"version":3,"sources":["webpack:///route-get-started.chunk.e6fa6.js","webpack:///./components/QuestionList/index.js","webpack:///./routes/get-started/index.js"],"names":["webpackJsonp","JzQ9","module","__webpack_exports__","__webpack_require__","d","QuestionList","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1__Toggle__","n","questions","updateQuestion","updateQuestionStatus","map","question","index","class","for","slug","id","type","dir","value","text","onInput","event","target","label","on","status","onToggle","ZUAp","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_1__utils_slugify__","__WEBPACK_IMPORTED_MODULE_2_preact_router_match__","__WEBPACK_IMPORTED_MODULE_3__utils_date__","__WEBPACK_IMPORTED_MODULE_4__components_QuestionList__","__WEBPACK_IMPORTED_MODULE_5__components_AddQuestion__","__WEBPACK_IMPORTED_MODULE_6_unistore_preact__","today","url","_ref2","_ref3","href","_ref4","_ref5","GetStarted","_temp","_this","_ret","_len","arguments","length","args","Array","_key","this","_Component","apply","concat","state","defaultQuestions","attribute","find","x","props","db","set","setState","addQuestionToDB","callback","slugify","createdAt","Date","now","onboard","push","addDefaultQuestion","textContent","addQuestion","preventDefault","reset","componentWillMount","Promise","$return","$error","_this2","keys","all","get","sort","a","b","bind","localStorage","setItem","render","q","disabled","onClick","plus","className","Component","connect"],"mappings":"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","file":"route-get-started.chunk.e6fa6.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ \"JzQ9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return QuestionList; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Toggle__ = __webpack_require__(\"2+yi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_preact_router__ = __webpack_require__(\"/QC5\");\n\n\n\n\n\nvar QuestionList = function QuestionList(_ref) {\n  var questions = _ref.questions,\n      updateQuestion = _ref.updateQuestion,\n      updateQuestionStatus = _ref.updateQuestionStatus;\n  return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'div',\n    null,\n    questions.map(function (question, index) {\n      return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'p',\n        { 'class': 'edit-question' },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'label',\n          { 'for': question.slug + '_title' },\n          'Q',\n          index + 1,\n          ':'\n        ),\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', {\n          id: question.slug + '_title',\n          type: 'text',\n          dir: 'auto',\n          value: question.text,\n          onInput: function onInput(event) {\n            return updateQuestion(question.slug, event.target.value);\n          }\n        }),\n        updateQuestionStatus && Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_1__Toggle__[\"a\" /* Toggle */], {\n          label: 'Active',\n          on: question.status === 'live',\n          onToggle: function onToggle() {\n            return updateQuestionStatus(question.slug, question.status === 'live' ? 'draft' : 'live');\n          }\n        })\n      );\n    })\n  );\n};\n\n\n\n/***/ }),\n\n/***/ \"ZUAp\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_slugify__ = __webpack_require__(\"KGMw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_preact_router_match__ = __webpack_require__(\"sw5u\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_preact_router_match___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_preact_router_match__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_date__ = __webpack_require__(\"8EZx\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_QuestionList__ = __webpack_require__(\"JzQ9\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_AddQuestion__ = __webpack_require__(\"CZP8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_unistore_preact__ = __webpack_require__(\"o6ac\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_unistore_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_unistore_preact__);\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\nvar today = Object(__WEBPACK_IMPORTED_MODULE_3__utils_date__[\"l\" /* url */])();\n\nvar _ref2 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'h1',\n  { 'class': 'center h1' },\n  'Here are a few popular daily questions to get you started:'\n);\n\nvar _ref3 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'div',\n  { 'class': 'center lift--without-delay mt20' },\n  Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    __WEBPACK_IMPORTED_MODULE_2_preact_router_match__[\"Link\"],\n    { href: today, 'class': 'button' },\n    'Start writing'\n  ),\n  '!'\n);\n\nvar _ref4 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  __WEBPACK_IMPORTED_MODULE_2_preact_router_match__[\"Link\"],\n  { 'class': 'button button--grey', href: '/add-statistic' },\n  'Add a personal statistic to track'\n);\n\nvar _ref5 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'div',\n  { 'class': 'center lift--without-delay mt20 mb40' },\n  Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    __WEBPACK_IMPORTED_MODULE_2_preact_router_match__[\"Link\"],\n    { href: today, 'class': 'button' },\n    'Start writing'\n  ),\n  '!'\n);\n\nvar GetStarted = function (_Component) {\n  _inherits(GetStarted, _Component);\n\n  function GetStarted() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, GetStarted);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      questions: [],\n      defaultQuestions: [\"What's happened today?\", 'What are you thankful for?', 'What would you change about today?', 'Notes and musings', 'What did you work on yesterday?', 'What are you planning on working on today?']\n    }, _this.updateQuestion = function (slug, value) {\n      var attribute = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'text';\n\n      var questions = [].concat(_this.state.questions);\n      var question = questions.find(function (x) {\n        return x.slug === slug;\n      });\n      if (!question) {\n        return;\n      }\n\n      question[attribute] = value;\n      _this.props.db.set('questions', slug, question);\n\n      _this.setState({ questions: questions });\n    }, _this.updateQuestionStatus = function (slug, value) {\n      _this.updateQuestion(slug, value, 'status');\n    }, _this.addQuestionToDB = function (text) {\n      var $args = arguments;return new Promise(function ($return, $error) {\n        var callback, slug, question, questions;\n        callback = $args.length > 1 && $args[1] !== undefined ? $args[1] : function () {\n          return null;\n        };\n\n        slug = Object(__WEBPACK_IMPORTED_MODULE_1__utils_slugify__[\"a\" /* slugify */])(text);\n        question = { slug: slug, text: text, status: 'live', createdAt: Date.now() };\n\n        return Promise.resolve(_this.props.db.set('questions', slug, question)).then(function ($await_1) {\n          try {\n\n            _this.onboard();\n            questions = [].concat(_this.state.questions);\n            questions.push(question);\n            _this.setState({ questions: questions });\n            callback();\n            return $return();\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      });\n    }, _this.addDefaultQuestion = function (event) {\n      _this.addQuestionToDB(event.target.textContent);\n    }, _this.addQuestion = function (event) {\n      event.preventDefault();\n      _this.addQuestionToDB(event.target.question.value, function () {\n        event.target.reset();\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  GetStarted.prototype.componentWillMount = function componentWillMount() {\n    return new Promise(function ($return, $error) {\n      var _this2, keys, questions;\n\n      _this2 = this;\n      return Promise.resolve(this.props.db.keys('questions')).then(function ($await_2) {\n        try {\n          keys = $await_2;\n          return Promise.resolve(Promise.all(keys.map(function (x) {\n            return _this2.props.db.get('questions', x);\n          }))).then(function ($await_3) {\n            try {\n              questions = $await_3;\n              questions.sort(function (a, b) {\n                return a.createdAt - b.createdAt;\n              });\n\n              this.setState({ questions: questions });\n              return $return();\n            } catch ($boundEx) {\n              return $error($boundEx);\n            }\n          }.bind(this), $error);\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }.bind(this), $error);\n    }.bind(this));\n  };\n\n  GetStarted.prototype.onboard = function onboard() {\n    localStorage.setItem('MindPalace_onboarded', true);\n  };\n\n  GetStarted.prototype.render = function render(props, _ref) {\n    var _this3 = this;\n\n    var questions = _ref.questions,\n        defaultQuestions = _ref.defaultQuestions;\n\n    return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'div',\n      { 'class': 'wrap lift-children' },\n      _ref2,\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'div',\n        { 'class': 'default-questions' },\n        defaultQuestions.map(function (q) {\n          return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'button',\n            {\n              type: 'button',\n              'class': 'default-question',\n              disabled: questions.find(function (x) {\n                return x.text === q;\n              }),\n              onClick: _this3.addDefaultQuestion\n            },\n            q\n          );\n        })\n      ),\n      questions && questions.length ? _ref3 : null,\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_5__components_AddQuestion__[\"a\" /* AddQuestion */], {\n        addQuestion: this.addQuestion,\n        label: 'Or write your own!',\n        plus: true\n      }),\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'div',\n        { className: 'mb40' },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'a',\n          {\n            'class': 'button button--grey mr20',\n            onClick: this.onboard,\n            href: '/settings#data'\n          },\n          'Import an existing MindPalace'\n        ),\n        _ref4\n      ),\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_4__components_QuestionList__[\"a\" /* QuestionList */], {\n        questions: questions,\n        updateQuestion: this.updateQuestion,\n        updateQuestionStatus: this.updateQuestionStatus\n      }),\n      questions && questions.length ? _ref5 : null\n    );\n  };\n\n  return GetStarted;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_6_unistore_preact__[\"connect\"])('db')(GetStarted));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-get-started.chunk.e6fa6.js","import { h } from 'preact';\nimport { Toggle } from '../Toggle';\nimport { Link } from 'preact-router';\n\nconst QuestionList = ({ questions, updateQuestion, updateQuestionStatus }) => (\n  <div>\n    {questions.map((question, index) => (\n      <p class=\"edit-question\">\n        <label for={`${question.slug}_title`}>Q{index + 1}:</label>\n        <input\n          id={`${question.slug}_title`}\n          type=\"text\"\n          dir=\"auto\"\n          value={question.text}\n          onInput={event => updateQuestion(question.slug, event.target.value)}\n        />\n        {updateQuestionStatus && (\n          <Toggle\n            label=\"Active\"\n            on={question.status === 'live'}\n            onToggle={() =>\n              updateQuestionStatus(\n                question.slug,\n                question.status === 'live' ? 'draft' : 'live'\n              )\n            }\n          />\n        )}\n      </p>\n    ))}\n  </div>\n);\n\nexport { QuestionList };\n\n\n\n// WEBPACK FOOTER //\n// ./components/QuestionList/index.js","import { h, Component } from 'preact';\nimport { slugify } from '../../utils/slugify';\nimport { Link } from 'preact-router/match';\nimport { url } from '../../utils/date';\nimport { QuestionList } from '../../components/QuestionList';\nimport { AddQuestion } from '../../components/AddQuestion';\nimport { connect } from 'unistore/preact';\n\nconst today = url();\n\nclass GetStarted extends Component {\n  state = {\n    questions: [],\n    defaultQuestions: [\n      \"What's happened today?\",\n      'What are you thankful for?',\n      'What would you change about today?',\n      'Notes and musings',\n      'What did you work on yesterday?',\n      'What are you planning on working on today?',\n    ],\n  };\n\n  async componentWillMount() {\n    const keys = await this.props.db.keys('questions');\n    const questions = await Promise.all(\n      keys.map(x => this.props.db.get('questions', x))\n    );\n    questions.sort((a, b) => a.createdAt - b.createdAt);\n\n    this.setState({ questions });\n  }\n\n  onboard() {\n    localStorage.setItem('MindPalace_onboarded', true);\n  }\n\n  updateQuestion = (slug, value, attribute = 'text') => {\n    const questions = [...this.state.questions];\n    const question = questions.find(x => x.slug === slug);\n    if (!question) {\n      return;\n    }\n\n    question[attribute] = value;\n    this.props.db.set('questions', slug, question);\n\n    this.setState({ questions });\n  };\n\n  updateQuestionStatus = (slug, value) => {\n    this.updateQuestion(slug, value, 'status');\n  };\n\n  addQuestionToDB = async (text, callback = () => null) => {\n    const slug = slugify(text);\n    const question = { slug, text, status: 'live', createdAt: Date.now() };\n\n    await this.props.db.set('questions', slug, question);\n\n    this.onboard();\n    const questions = [...this.state.questions];\n    questions.push(question);\n    this.setState({ questions });\n    callback();\n  };\n\n  addDefaultQuestion = event => {\n    this.addQuestionToDB(event.target.textContent);\n  };\n\n  addQuestion = event => {\n    event.preventDefault();\n    this.addQuestionToDB(event.target.question.value, () => {\n      event.target.reset();\n    });\n  };\n\n  render(props, { questions, defaultQuestions }) {\n    return (\n      <div class=\"wrap lift-children\">\n        <h1 class=\"center h1\">\n          Here are a few popular daily questions to get you started:\n        </h1>\n\n        <div class=\"default-questions\">\n          {defaultQuestions.map(q => (\n            <button\n              type=\"button\"\n              class=\"default-question\"\n              disabled={questions.find(x => x.text === q)}\n              onClick={this.addDefaultQuestion}\n            >\n              {q}\n            </button>\n          ))}\n        </div>\n\n        {questions && questions.length ? (\n          <div class=\"center lift--without-delay mt20\">\n            <Link href={today} class=\"button\">\n              Start writing\n            </Link>!\n          </div>\n        ) : null}\n\n        <AddQuestion\n          addQuestion={this.addQuestion}\n          label=\"Or write your own!\"\n          plus\n        />\n\n        <div className=\"mb40\">\n          <a\n            class=\"button button--grey mr20\"\n            onClick={this.onboard}\n            href=\"/settings#data\"\n          >\n            Import an existing MindPalace\n          </a>\n\n          <Link class=\"button button--grey\" href=\"/add-statistic\">\n            Add a personal statistic to track\n          </Link>\n        </div>\n\n        <QuestionList\n          questions={questions}\n          updateQuestion={this.updateQuestion}\n          updateQuestionStatus={this.updateQuestionStatus}\n        />\n\n        {questions && questions.length ? (\n          <div class=\"center lift--without-delay mt20 mb40\">\n            <Link href={today} class=\"button\">\n              Start writing\n            </Link>!\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default connect('db')(GetStarted);\n\n\n\n// WEBPACK FOOTER //\n// ./routes/get-started/index.js"],"sourceRoot":""}