webpackJsonp([0],{"7grX":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var o=n("KM04"),i=(n.n(o),n("2+yi")),c=Object(o.h)("option",{value:"number"},"Number"),a=Object(o.h)("option",{value:"plus"},"Number with +/-"),u=Object(o.h)("option",{value:"star"},"Star rating"),s=Object(o.h)("option",{value:"range"},"Range slider"),r=Object(o.h)("option",{value:"select"},"Dropdown"),l=Object(o.h)("option",{value:"checkbox"},"Checkboxes"),p=Object(o.h)("option",{value:"lightswitch"},"Yes/No switch"),b=Object(o.h)("label",null,"Options:"),h=Object(o.h)("option",{value:""},"Select a calculation"),d=Object(o.h)("option",{value:"total"},"Total/Sum"),g=Object(o.h)("option",{value:"average"},"Average"),f=Object(o.h)("option",{value:"count"},"Count"),v=function(t){var e=t.trackingQuestions,n=t.updateTrackingQuestion,v=t.updateTrackingOption,O=t.hideActive;return Object(o.h)("div",null,e.map(function(t){return Object(o.h)("div",{class:"edit-tracking-question"},Object(o.h)("p",{class:"edit-question"},Object(o.h)("label",{for:t.id+"_title"},"Question, title:"),Object(o.h)("input",{id:t.id+"_title",type:"text",dir:"auto",value:t.title,onInput:function(e){return n(t.id,e.target.value,"title")}}),!O&&Object(o.h)(i.a,{label:"Active",on:"live"===t.status,onToggle:function(){return n(t.id,"live"===t.status?"draft":"live","status")}})),Object(o.h)("p",null,Object(o.h)("div",{class:"c-checkbox"},Object(o.h)("input",{id:t.id+"_showNotes",type:"checkbox",checked:!!t.notes,onChange:function(){n(t.id,!t.notes,"notes")}}),Object(o.h)("label",{for:t.id+"_showNotes"},"Allow additional notes?"))),t.notes&&Object(o.h)("p",null,Object(o.h)("label",{for:t.id+"_notes"},"Custom notes label:"),Object(o.h)("input",{id:t.id+"_notes",type:"text",dir:"auto",value:!0===t.notes?"":t.notes,placeholder:"e.g. What happenend?",onInput:function(e){n(t.id,e.target.value||!0,"notes")}})),Object(o.h)("p",null,Object(o.h)("label",{for:t.id+"_type"},"Type:"),Object(o.h)("select",{id:t.id+"_type",value:t.settings.type,onInput:function(e){n(t.id,e.target.value,"type",!0)}},"number"===t.type&&c,"number"===t.type&&a,"number"===t.type&&u,"number"===t.type&&s,"options"===t.type&&r,"options"===t.type&&l,"options"===t.type&&p)),"options"===t.type&&"lightswitch"!==t.settings.type?Object(o.h)("p",null,b,t.settings.options.map(function(e,n){return Object(o.h)("div",{class:"mb10 u-flex",key:n},Object(o.h)("input",{class:"c-input-mini",type:"text",dir:"auto",value:e,onInput:function(e){return v(t.id,e.target.value,n)}}),Object(o.h)("button",{type:"button","aria-label":"Remove option",class:"button--reset px10",onClick:function(){v(t.id,"",n,!0)}},"Ã—"))}),Object(o.h)("button",{type:"button",class:"right button--reset",onClick:function(){v(t.id,"",t.settings.options.length)}},"Add ",t.settings.options.length?"another":"an"," option")):null,Object(o.h)("p",null,Object(o.h)("label",{for:t.id+"_calculation"},"Statistic calculation:"),Object(o.h)("select",{id:t.id+"_calculation",value:t.settings.calculation,onInput:function(e){n(t.id,e.target.value,"calculation",!0)}},h,"number"===t.type&&d,"number"===t.type&&g,"options"===t.type&&f)))}))}},JiZg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return 1!==e?n||t+"s":t}},l4nm:function(t,e,n){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=n("KM04"),a=(n.n(c),n("KGMw")),u=n("JiZg"),s=n("db16"),r=n("QlVn"),l=n("o6ac"),p=(n.n(l),n("7grX")),b=n("b1q8"),h=Object(c.h)(s.a,{title:"Add a personal statistic to track",className:"traverse--center mb20"}),d=Object(c.h)("p",null,"Choose a preset, or create a custom statistic:"),g=function(t){function e(){for(var e,n,i,c=arguments.length,u=Array(c),s=0;s<c;s++)u[s]=arguments[s];return e=n=o(this,t.call.apply(t,[this].concat(u))),n.state={trackingQuestions:[],preset:""},n.onSubmit=function(t){t.preventDefault(),n.state.trackingQuestions.forEach(function(t){n.props.db.set("trackingQuestions",t.id,t)}),localStorage.setItem("MindPalace_onboarded",!0),window.location.href="/settings/"},n.updateTrackingQuestion=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=[].concat(n.state.trackingQuestions),a=c.find(function(e){return e.id===t});a&&(i?a.settings[o]=e:a[o]=e,n.setState({trackingQuestions:c}))},n.updateTrackingOption=function(t,e,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=[].concat(n.state.trackingQuestions),a=c.find(function(e){return e.id===t});a&&(i?a.settings.options.splice(o,1):a.settings.options[o]=e,n.setState({trackingQuestions:c}))},n.createPreset=function(t){var e=[],o=Object(b.a)();if(o[t]){e=[].concat(o[t]);var i=Object(a.a)();e.forEach(function(t,e){t.id=Object(a.a)(),t.groupId=i,t.createdAt+=e})}n.setState({preset:t,trackingQuestions:e})},i=e,o(n,i)}return i(e,t),e.prototype.render=function(t,e){var n=this,o=e.trackingQuestions,i=e.preset,a=[["Sleep tracking","sleep"],["Medicine log","medicine"],["Panic attack","panic"],["Musical instrument","musical"],["Running","running"],["Asthma log","asthma"],["Mood","mood"],["Discomfort","discomfort"],["Workout","workout"],["Custom numerical","number"],["Custom choices","choices"],["Yes/No switch","tickbox"]];return Object(c.h)("div",{class:"wrap"},h,d,Object(c.h)("div",{class:"year-overview year-overview--center"},a.map(function(t){var e=t[0],o=t[1];return Object(c.h)("button",{type:"button",class:"button button--grey",disabled:i&&i!==o,onClick:function(){return n.createPreset(o)}},e)})),i?Object(c.h)("form",{onSubmit:function(t){return n.onSubmit(t)}},Object(c.h)(p.a,{trackingQuestions:o,updateTrackingQuestion:this.updateTrackingQuestion,updateTrackingOption:this.updateTrackingOption,hideActive:!0}),o.length?Object(c.h)("input",{type:"submit",class:"button mr20",value:Object(u.a)("Add",o.length)}):null,Object(c.h)("button",{type:"button",class:"button--reset",onClick:function(){return n.createPreset("")}},"Reset")):null)},e}(c.Component);e.default=Object(l.connect)("settings, db",r.a)(g)}});
//# sourceMappingURL=route-add-statistic.chunk.4c915.js.map