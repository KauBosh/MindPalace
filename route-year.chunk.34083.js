webpackJsonp([4],{PXh1:function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=n("KM04"),c=(n.n(i),n("8EZx")),u=n("db16"),a=n("sw5u"),l=(n.n(a),n("o6ac")),s=(n.n(l),function(t){function e(){for(var e,n,o,i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];return e=n=r(this,t.call.apply(t,[this].concat(u))),n.state={months:Object(c.b)()},n.getData=function(t){return new Promise(function(e,r){var o,i,u,a,l;return o=t.year,i=new Date(o,0,1),"Invalid Date"===i.toString()?(window.location.href="/"+(new Date).getFullYear(),e()):Promise.resolve(n.props.db.keys("entries")).then(function(t){try{return u=t,Promise.resolve(n.props.db.keys("trackingEntries")).then(function(t){try{return a=t,u=[].concat(u,a),l=u.map(function(t){return t.split("_").shift()}).filter(function(t){return 0===t.indexOf(String(o))}).reduce(function(t,e){return t[Number(e.substring(4,6))-1]++,t},Object(c.b)()),n.setState({months:l}),e()}catch(t){return r(t)}},r)}catch(t){return r(t)}},r)})},o=e,r(n,o)}return o(e,t),e.prototype.componentDidMount=function(){this.getData(this.props)},e.prototype.componentWillReceiveProps=function(t){this.getData(t)},e.prototype.render=function(t,e){var n=t.year,r=e.months,o=new Date(n,0,1);o.setFullYear(o.getFullYear()-1);var l=new Date(n,0,1);return l.setFullYear(l.getFullYear()+1),Object(i.h)("div",{class:"wrap lift-children"},Object(i.h)(u.a,{title:n,lastLink:"/"+o.getFullYear(),nextLink:"/"+l.getFullYear()}),Object(i.h)("ul",{class:"year-overview"},r.map(function(t,e){return Object(i.h)("li",{key:e},Object(i.h)(a.Link,{href:"/"+n+"/"+Object(c.g)(e+1),class:"button button--"+(t?"active":"inactive")},c.f[e]," ",Object(i.h)("strong",null,Object(i.h)("b",null,t))))})))},e}(i.Component));e.default=Object(l.connect)("db")(s)}});
//# sourceMappingURL=route-year.chunk.34083.js.map