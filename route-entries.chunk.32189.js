webpackJsonp([9],{VCKE:function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=n("KM04"),u=(n.n(c),n("db16")),i=n("sw5u"),s=(n.n(i),n("8EZx")),a=n("o6ac"),l=(n.n(a),n("b1q8")),f=function(e){function t(){for(var t,n,o,c=arguments.length,u=Array(c),i=0;i<c;i++)u[i]=arguments[i];return t=n=r(this,e.call.apply(e,[this].concat(u))),n.state={years:{},question:{}},n.getData=function(){return new Promise(function(e,t){var r,o,c,u,i,a,f;return r=n.props,o=r.questionId,c=r.db,o?Promise.resolve(Object(l.b)(c)).then(function(r){try{return u=r,Promise.resolve(c.getAll("trackingEntries")).then(function(r){try{return i=r,(a=u.find(function(e){return e.id===o}))?(f=i.filter(function(e){return e.questionId===n.props.questionId}).filter(l.c).reduce(function(e,t){var n=t.dateString,r=n.substring(0,4);return e[r]||(e[r]=[]),e[r].push(Object(s.h)(n)),e},{}),Object.keys(f).forEach(function(e){f[e].sort(s.k)}),n.setState({years:f,question:a}),e()):e()}catch(e){return t(e)}},t)}catch(e){return t(e)}},t):e()})},o=t,r(n,o)}return o(t,e),t.prototype.componentDidMount=function(){this.getData()},t.prototype.render=function(e,t){var n=e.questionId,r=t.years,o=t.question,a=Object.keys(r);return a.sort(function(e,t){return Number(t)-Number(e)}),Object(c.h)("div",{class:"wrap lift-children"},Object(c.h)(u.a,{title:o.title||"Personal stats",className:"traverse--center"}),a.length?a.map(function(e){return Object(c.h)("div",{key:e,class:"center mt20"},Object(c.h)("h2",null,e),Object(c.h)("ul",{class:"year-overview year-overview--center"},r[e].map(function(e){return Object(c.h)("li",{key:Object(s.m)(e)},Object(c.h)(i.Link,{href:Object(s.l)(e,n),class:"button"},Object(s.j)(e)))})))}):null)},t}(c.Component);t.default=Object(a.connect)("db")(f)}});
//# sourceMappingURL=route-entries.chunk.32189.js.map